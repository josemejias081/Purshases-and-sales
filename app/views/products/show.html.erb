<section class= "container">
  <article class="product-post gradient_border">
    <div class="product-post__img gradient_border">
      <% if @product.image.attached? %>
          <%= image_tag @product.image, class:"img-fluid" %>
        <% else %>
          <img src="/producto-sin-imagen-recortada.jpeg" class="img" alt="" >
      <% end %>
    </div>
    <div class="product-post__info">
      <div class="product-post__featured">
        <span><%= number_to_currency(@product.price) %></span>
        <% if @product.featured? %>
          <span>Producto destacado</span>
        <% else%>
          <span>Oferta</span>
        <% end %>
      </div>
      <h2 class="product-post__title"><%= @product.name %></h2>
      <p class="product-description">
        <%= @product.presentation %> 
      </p>
      <hr class= 'divider'>
      <span><strong>Categor√≠as:</strong></span>
        <div>
          <% if @product.categories.any? %>
            <% @product.categories.each do |category| %>
              <span><%= category.name %> /</span>
            <% end %>
          <% else %>
            <span>Sin Categorizar</span>
          <% end %>
        </div>
        <hr class= 'divider'>
        <%= link_to @product.business, class: "product-post__cta" do %>
          <%= @product.business.name %>
        <% end %>
        <% if user_signed_in? %> 
        <div class="card-footer text-center mt-2">
          <%= link_to 'Edit', edit_business_product_path(@product.business, @product), class: "card-link" %>
          <%= link_to "Volver", products_path, class: "card-link" %>
          <%= link_to "Eliminar", @product, data: {turbo_method: :delete}, class: "card-link" %>
        </div>
      <% end %>
    </div>
  </article>  
</section>
